---
http_interactions:
- request:
    method: get
    uri: https://development.avalara.net/1.0/address/validate?City=Montgomery&Country=US&Line1=A%20Different%20Road&Line2=&PostalCode=36104&Region=AL
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic MTEwMDExMzA5NjoxRDEzRURBMkRDQ0M3RTRB
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 500
      message: Internal Server Error
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/json; charset=utf-8
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Fri, 13 Jan 2017 16:48:37 GMT
      Content-Length:
      - '336'
      Set-Cookie:
      - TS017f1821=01a8ddc44e0fc8c3dd626dde82ba9b5b47ccc60fe43a8020cbe0e91c9497307136566e38dd8a349188fe20d3ed4e7745875a5c99e0;
        Path=/
    body:
      encoding: UTF-8
      string: |
        {
        "ResultCode": "Error",
        "Messages": [
        {
        "Summary": "The address number is out of range",
        "Details": "The address was found but the street number in the input address was not between the low and high range of the post office database.",
        "RefersTo": "Address.Line1",
        "Severity": "Error",
        "Source": "Avalara.AvaTax.Services.Address"}
        ]
        }
    http_version:
  recorded_at: Fri, 13 Jan 2017 16:48:38 GMT
- request:
    method: post
    uri: https://development.avalara.net/1.0/tax/get
    body:
      encoding: UTF-8
      string: '{"DocCode":"R628115850","DocDate":"2017-01-13","Discount":"0.0","Commit":false,"DocType":"SalesOrder","Addresses":[{"AddressCode":"Orig","Line1":null,"Line2":null,"City":"Florence","Region":"","PostalCode":null,"Country":"IT"},{"AddressCode":"Dest","Line1":"A
        Different Road","Line2":"","City":"Montgomery","Region":"Alabama","Country":"US","PostalCode":"36104"},{"AddressCode":"1","Line1":"150
        Piccadilly","Line2":null,"City":"Florence","PostalCode":"20500","Country":"IT"}],"Lines":[{"LineNo":"1-LI","Description":"Product
        #14 - 9765","TaxCode":"PC030000","ItemCode":"SKU-14","Qty":1,"Amount":10.0,"OriginCode":"1","DestinationCode":"Dest","CustomerUsageType":null,"Discounted":false,"TaxIncluded":true},{"LineNo":"2-FR","ItemCode":"Avalara
        Ground","Qty":1,"Amount":10.0,"OriginCode":"1","DestinationCode":"Dest","CustomerUsageType":null,"Description":"Shipping
        Charge","TaxCode":"FR000000","Discounted":false,"TaxIncluded":true}],"CustomerCode":1,"CompanyCode":"[Company]","CustomerUsageType":null,"ExemptionNo":null,"Client":"a0o33000004FH8l","ReferenceCode":"R628115850","DetailLevel":"Tax","CurrencyCode":"USD"}'
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Basic MTEwMDExMzA5NjoxRDEzRURBMkRDQ0M3RTRB
      Content-Type:
      - application/json
      Content-Length:
      - '1113'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/json; charset=utf-8
      Content-Encoding:
      - gzip
      Vary:
      - Accept-Encoding
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Fri, 13 Jan 2017 16:48:38 GMT
      Content-Length:
      - '685'
      Set-Cookie:
      - TS017f1821=01a8ddc44ec3290e366f4cb6c13c9efd40303ccf440297d14fae8c1f7ad33a61d3277fd04f39dc6a752b9dc8aeda997675da1616a1;
        Path=/
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3m
        kuwdaUcjKasqgcplVmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZk
        AWz2zkrayZ4hgKrIHz9+fB8/In5x8tHTanpSzfKPHqUfvfp072B39/7B/Z2P
        RvzF06zlL/Z2dh9s7+xu797DF2+KRd602WIVfvVm99NH+weP7j0c7+4e0Ke7
        P8WNqzYrjxfVetmi+e7D8d6+/fxp0UzNN9wnf3r6Ll+s2qJahh+/yd5lk5Lx
        CaHQF/hwZ/zgU/+zk6ycrksawSz4Nns3MKrs3fNimTf0zfcSogv+eFHRXx/t
        bj8/0xaGUi9Pdu7t0KMfZ5OiLNprfNPW6xyfPqFxzbL6+nl+mZf44qeK1X18
        wc1lGA/Hn+7ho1eK0M54Z5+AGqjy0b0D/NmnFCHTGaC0jFCPhpy3WVHasdEn
        XwOHV/mFgj1+jr9PgFDNo/7qNT74zroumjfXKwb0ugVE8+mLbMGfHj8/fnL8
        xbH93BB0ZxcfUYeuYfr6zfGb0/TN8e/90S9Jvp/8kmREmLtZ2dt+9krfMUCe
        vSLE6dGP32dW+lSLUfxrEI3+jM8TfdGZlR49uwRnisXpa0hg6fg1UGVAjv52
        oqiZ+7Q3K99PpMnxbFbnTeMESD+gPz86Tp8W5+d5nS/b9FWVzQBVvzaIPyWV
        go9PdMa+qJbtRbXIiR74tEualxVpoNK8fO/T3R3WB12KEV7y0RnTfm/n/t6D
        hw/xDQ/WvL+zu7uze38XZBE2U+Tw3e79nfRlMZ1ms6IsGRn90rzMFDdoPysr
        GuWUJ8ZD+uwNPgiRJmSoP/q4j+TOQ/4iwJFAKLFf5c26bM3nr9fTKWHz0S9J
        /h+lRMdKzQUAAA==
    http_version:
  recorded_at: Fri, 13 Jan 2017 16:48:39 GMT
- request:
    method: post
    uri: https://development.avalara.net/1.0/tax/get
    body:
      encoding: UTF-8
      string: '{"DocCode":"R628115850","DocDate":"2017-01-13","Discount":"0.0","Commit":false,"DocType":"SalesOrder","Addresses":[{"AddressCode":"Orig","Line1":null,"Line2":null,"City":"Florence","Region":"","PostalCode":null,"Country":"IT"},{"AddressCode":"Dest","Line1":"A
        Different Road","Line2":"","City":"Montgomery","Region":"Alabama","Country":"US","PostalCode":"36104"},{"AddressCode":"1","Line1":"150
        Piccadilly","Line2":null,"City":"Florence","PostalCode":"20500","Country":"IT"}],"Lines":[{"LineNo":"1-LI","Description":"Product
        #14 - 9765","TaxCode":"PC030000","ItemCode":"SKU-14","Qty":1,"Amount":10.0,"OriginCode":"1","DestinationCode":"Dest","CustomerUsageType":null,"Discounted":false,"TaxIncluded":true},{"LineNo":"2-FR","ItemCode":"Avalara
        Ground","Qty":1,"Amount":10.0,"OriginCode":"1","DestinationCode":"Dest","CustomerUsageType":null,"Description":"Shipping
        Charge","TaxCode":"FR000000","Discounted":false,"TaxIncluded":true}],"CustomerCode":1,"CompanyCode":"[Company]","CustomerUsageType":null,"ExemptionNo":null,"Client":"a0o33000004FH8l","ReferenceCode":"R628115850","DetailLevel":"Tax","CurrencyCode":"USD"}'
    headers:
      Accept:
      - "*/*; q=0.5, application/xml"
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - Basic MTEwMDExMzA5NjoxRDEzRURBMkRDQ0M3RTRB
      Content-Type:
      - application/json
      Content-Length:
      - '1113'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - private
      Content-Type:
      - text/json; charset=utf-8
      Content-Encoding:
      - gzip
      Vary:
      - Accept-Encoding
      X-Aspnet-Version:
      - 4.0.30319
      X-Powered-By:
      - ASP.NET
      Date:
      - Fri, 13 Jan 2017 16:48:40 GMT
      Content-Length:
      - '656'
      Set-Cookie:
      - TS017f1821=01a8ddc44ee2634b2749f8e5f6d2837b4dd95564ff7073a5442a9aa62ba9bda111fffaad5673721dddbe291617b26bc77a4246dc3e;
        Path=/
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3m
        kuwdaUcjKasqgcplVmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZk
        AWz2zkrayZ4hgKrIHz9+fB8/In5x8tGrvFmX7Uk1yz96lH70ej2d5k3z0Sj5
        6Gk1NZ+++nTvYHf3/sH9Hf3iadbyF3s7uw+2d3a3d+/hizfFIm/abLEKv3qz
        ++mj/YNH+zvje/d27987OPgpbly1WXm8qNbLFs13H4739u3nT4tmar7hPvnT
        03f5YtUW1TL8+E32LpuUjE8Ihb7AhzvjB5/6n51k5XRd0ghmwbfZu+fFMm/o
        s+8lRBf88aKivz7a3X5+pi0MQV6e7NzboUc/ziZFWbTX+Kat1zk+fULoz7L6
        +nl+mZf44qeK1X180R9Ef7CAKAN6OP50Dx+9InTx9854Z5/6Nc3ko3sH+md3
        ZPaLp3mbFaUd2wm6qxnfr16jyav8QjE6fo6/v7Oui+bN9Yr7fN0SRPupIcHO
        Lj4i2F8DVQb0Iltwu+Pnx0+OvzjG59TMfZq+fnP85jR9c/x7f/RLku8nvyQZ
        EeZuVva2n73SdwxKz15Rd/Toxz+aFfrgPVBlQI7+t5yV7yfS5Hg2q0lzOAHS
        D+jPj47Tp8X5eV7nyzZ9VWUzQNWvDeJPSXPg4xOdsS+qZXtRLXKiBz7tkuZl
        RYqmNC/f+3R3R8Q+eydEO2Na7+3c33vw8CG+4cGZ9ju7uzu793eVDPIGPicy
        C5spcvhs9/5O+rKYTrNZUZaMjH5pgDHFDdrPyopGOeWJ8ZA+e4MPQqQJOem/
        j/TOQ/4iwJlAOGJH9O8vSf4fNaQXzc0FAAA=
    http_version:
  recorded_at: Fri, 13 Jan 2017 16:48:40 GMT
recorded_with: VCR 3.0.3
